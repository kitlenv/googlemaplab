<html>
<head>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?
    key=AIzaSyABH3xfxu8yvxHti7mzbcu6_lGSD3JkPiE&sensor=false"></script>

    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    
    <style type="text/css">
        html{ height: 100%;}
        body{ height: 100%; margin: 0;}
        #mapDiv{width: 100%; height: 100%;}
    </style>

    <script type="text/javascript">

    var map;

    function initMap(){
        google.maps.visualRefresh = true;

        var mapOptions = {
            center: new google.maps.LatLng(-37.814150, 144.963029),
            zoom: 9,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var mapElement = document.getElementById('mapDiv');

        map = new google.maps.Map(mapElement, mapOptions);

        google.maps.event.addListener(map, 'click', function(e) {
            drawCircle(e.latLng);
            drawRectangle(e.latLng);
        });
    }

    google.maps.event.addDomListener(window, 'load', initMap);

    function drawCircle(pos){
        var circleOptions = {
            fillColor: '#FFFF00',
            fillOpacity: 0.55,
            strokeColor: '#FF0000',
            strokeOpacity: 0.7,
            strokeWidth: 1,
            center: pos,
            radius: 10000
        };

        var circle = new google.maps.Circle(circleOptions);
        circle.setMap(map);
    }

    function drawRectangle(pos)
    {
        var bounds = new google.maps.LatLngBounds(pos, new google.maps.LatLng(pos.lat()+0.2, pos.lng()+0.2));

        var rectOptions = {
            fillColor: '#A19E98',
            fillOpacity: 0.5,
            strokeColor: '#FF0000',
            strokeOpacity: 0.0,
            strokeWidth: 1,
            map: map,
            bounds: bounds
        };

        var rectangle = new google.maps.Rectangle(rectOptions);
    }

    </script>
</head>
<body>
<div id="mapDiv"></div>
</body>
</html>
